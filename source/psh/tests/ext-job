#!/bin/csh -f
#
# EXT-JOB - test aexec with processes only
#

@ err = 0

alias pe  'echo "" ; echo "Command: \!*" ; aexec "\!*"'

#set echo 
#set verbose

#--------------------------------------------------------------------------
#--------------------------------------------------------------------------

echo "------------------------------------------------------------------------"
echo ""
echo "# simple stdout variants"

   pe /bin/echo 'foo' @o cat -n
   echo "status = $status"

   pe /bin/echo 'foo' @o+1 cat -n
   echo "status = $status"

   pe /bin/echo 'foo' @o2 cat -n
   echo "status = $status"

echo ""
echo "------------------------------------------------------------------------"
echo ""
echo "# simple stdout and stderr variants"

   pe ls ext-* foo.h @o+1 @e+2 cat -n @ cat -E
   echo "status = $status"

   pe ls ext-* foo.h @o2 @e3 cat -n @ cat -E
   echo "status = $status"

echo ""
echo "------------------------------------------------------------------------"
echo ""
echo "# simple bonded stdout/stderr variants"

   pe ls ext-* foo.h @b cat -n
   echo "status = $status"

   pe ls ext-* foo.h @b+1 cat -n
   echo "status = $status"

   pe ls ext-* foo.h @b2 cat -n
   echo "status = $status"

   pe ls ext-* foo.h @o2 @e2 cat -n
   echo "status = $status"

#--------------------------------------------------------------------------
#--------------------------------------------------------------------------

echo ""

exit($err)

#!/bin/csh -f
#
# USE-GNU - decide on the correct GNU environment
#
# Source Version: 3.0
# Software Release #: LLNL-CODE-422942
#
# include "cpyright.h"
#

unalias *

source ../scripts/env-csh

set Which   = "$cwd/pwhich"
set CmpPath = ""
while ($#argv > 0)
   switch ($1)
      default:
           if ("$CmpPath" == "") then
              set CmpPath = $1
           endif
           breaksw
   endsw
   shift
end

# if blank find gcc on your path
if ("$CmpPath" == "") then
   set Exe = ( `$Which gcc` )

# if not a full path find it on your path
else if ("$CmpPath" !~ /*) then
   set Exe = ( `$Which $CmpPath` )
endif

if (-x "$Exe") then
   set Root = $Exe:h
   set Root = $Root:h
else if (-x "$Exe/bin/gcc") then
   set Root = $Exe
endif

set Info  = ( `$Exe -v |& grep 'gcc version'` )
set lvers = $Info[3]

setenv PATH             $Root/bin':$PATH'
setenv PACT_CC_FAMILY   GNU
setenv PACT_CC_VERSION  $lvers
setenv PACT_CC_PATH     $Root
setenv PACT_CC_EXE      $Exe

SetParent PATH
SetParent PACT_CC_FAMILY
SetParent PACT_CC_VERSION
SetParent PACT_CC_PATH
SetParent PACT_CC_EXE

exit(0)


#
# COMMON - common setup for programs in write
#
# include "cpyright.h"
#

unalias *

set Cmd    = $0
set Exe    = $Cmd:t
set ExeDir = $Cmd:h

set llog   = $1
set ScrDir = $2
set MngDir = $ScrDir:h/manager

source $ScrDir/functions-pact.csh
source $ScrDir/csh-subroutines

if ($?FirstCommon == 0) then
   set lroot = $ScrDir:h
   set larch = `$ScrDir/cfgman use`
   set lbin  = $lroot/dev/$larch/bin
   set path  = ( $ScrDir $lbin $path )

   unset lbin
   unset lroot
   unset larch

   eval `$ScrDir/prune-env -e MngDir pact`

   setenv FirstCommon FALSE

   InitLog Log $llog:h/write.$0:t
   unset llog

   Note $Log ""
   Separator $Log
   Note $Log "Command: $Cmd"
   Note $Log "Current: $cwd"
   Note $Log "Date: `date`"
   Note $Log "Manager directory: $MngDir"
   Note $Log ""
endif



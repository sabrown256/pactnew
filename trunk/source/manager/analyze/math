#!/bin/csh -f
#
# MATH - analyze math library options
#
# Source Version: 3.0
# Software Release #: LLNL-CODE-422942
#
# include "cpyright.h"
#

set Me = $0
source $Me:h/common

Separator $Log
Note $Log "Analyze: math"

set MathLib = ""

#--------------------------------------------------------------------------
#--------------------------------------------------------------------------

# look for GNU Scientific library

dbini GSL_Path ""

if (-d $RootInc/gsl) then
   set rinc = $RootInc
   set root = $rinc:h
   flog $Log setenv GSL_Path $root
   set MathLib = ( $MathLib gsl )
else
   flog $Log setenv GSL_Path ""
endif

#--------------------------------------------------------------------------
#--------------------------------------------------------------------------

# look for BLAS

dbini BLAS_Path ""

#--------------------------------------------------------------------------
#--------------------------------------------------------------------------

# look for LAPACK

dbini LAPACK_Path ""

#--------------------------------------------------------------------------
#--------------------------------------------------------------------------

foreach i ("linpack" "slatec" "imsl")
   fexec $ALog man $i @b grep -i "no\ ma"
   if (($gstatus[1] == 0) || ($gstatus[2] == 0)) then
      set MathLib = ($MathLib $i)
   endif
end

if ("$MathLib" != "") then
   NoteD $ALog "      math packages: $MathLib"
endif

dbexp GSL_Path
dbexp BLAS_Path
dbexp LAPACK_Path

exit(0)

